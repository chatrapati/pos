<html lang="en">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="description" content="">
  <meta name="author" content="">
  <title>POS - point of sale Dar Elweb</title>
  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
  <!-- normalize & reset style -->
  <link rel="stylesheet" href="http://www.dar-elweb.com/demos/zarpos/assets/css/normalize.min.css" type="text/css">
  <link rel="stylesheet" href="http://www.dar-elweb.com/demos/zarpos/assets/css/reset.min.css" type="text/css">
  <link rel="stylesheet" href="http://www.dar-elweb.com/demos/zarpos/assets/css/jquery-ui.css" type="text/css">
  <!-- google lato font -->
  <link href="https://fonts.googleapis.com/css?family=Lato:400,700,900,300" rel="stylesheet" type="text/css">
  <!-- Bootstrap Core CSS -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/bootstrap.min.css" rel="stylesheet">
  <!-- bootstrap-horizon -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/bootstrap-horizon.css" rel="stylesheet">
  <!-- datatable style -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/datatables/css/dataTables.bootstrap.css" rel="stylesheet">
  <!-- font awesome -->
  <link rel="stylesheet" href="http://www.dar-elweb.com/demos/zarpos/assets/css/font-awesome.min.css">
  <!-- include summernote css-->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/summernote.css" rel="stylesheet">
  <!-- waves -->
  <link rel="stylesheet" href="http://www.dar-elweb.com/demos/zarpos/assets/css/waves.min.css">
  <!-- daterangepicker -->
  <link rel="stylesheet" type="text/css" href="./pos-css/daterangepicker.css">
  <!-- css for the preview keyset extension -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/keyboard-previewkeyset.css" rel="stylesheet">
  <!-- keyboard widget style -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/keyboard.css" rel="stylesheet">
  <!-- Select 2 style -->
  <link href="http://www.dar-elweb.com/demos/zarpos/assets/css/select2.min.css" rel="stylesheet">
  <!-- datepicker css -->
  <link rel="stylesheet" type="text/css" href="http://www.dar-elweb.com/demos/zarpos/assets/css/bootstrap-datepicker.min.css">
  <!-- Sweet alert swal -->
  <link rel="stylesheet" type="text/css" href="./pos-css/sweetalert.css">
  <!-- Custom CSS -->
  <link href="./pos-css/Style-Light.css" rel="stylesheet">
  <!-- jQuery -->
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery-2.2.2.min.js"></script>
  <script type="text/javascript" src="./pos-js/loading.js"></script>

	<!-- angular links -->
	<script src="./pos-js/angular.min.js"></script>
	<script src="./pos-js/angular-app.js"></script>
	<script src="./pos-js/controllers/pos-filter.js"></script>
	<script src="./pos-js/controllers/productController.js"></script>
	<script src="./pos-js/controllers/ordersController.js"></script>
	<script src="./pos-js/controllers/headerController.js"></script>
	<script src="./pos-js/controllers/customerPageController.js"></script>
	<script src="./pos-js/services/ordersService.js"></script>
	<script src="./pos-js/services/productService.js"></script>
	<script src="./pos-js/services/customerPageService.js"></script>
	<script src="./pos-js/services/newCustomerService.js"></script>
	<script src="./pos-js/services/loginService.js"></script>
	<script src="http://code.angularjs.org/snapshot/angular-messages.js"></script>
	
  <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
      <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
      <script src="https://oss.maxcdn.com/libs/respond.js/1.4.2/respond.min.js"></script>
      <![endif]-->

		<!--<script>
			function myFunction() {
				var x = document.getElementById('myDIV');
				if (x.style.display === 'none') {
					x.style.display = 'block';
				} else {
					x.style.display = 'none';
				}
			}
		</script>-->
	
	</head>

<body class="pace-done" ng-app="myApp">
  <div class="pace  pace-inactive">
    <div class="pace-progress" data-progress-text="100%" data-progress="99" style="transform: translate3d(100%, 0px, 0px);">
      <div class="pace-progress-inner"></div>
    </div>
    <div class="pace-activity"></div>
  </div>
  <!-------------------------------------header part start here---------------------------------------------------------------->

	<!-- Fixed header top start here -->
    <div class="navbar" id="myDIV" ng-hide="show == true" ng-include="'header.html'" ng-controller="initController" >

    </div>
    <!-- Fixed header top end here -->

  <!-------------------------------------------------header part end here---------------------------------------------------->
   <!-- Navigation start here -->
			<div class="col-md-12 col-lg-12 col-sm-12 col-xs-12"  style="padding-right:0px !important;padding-left:0px !important;" ng-controller="initController">
			 <nav class="navbar navbar-default" role="navigation">
				  <div class="navbar-header">
					<button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
					  <span class="sr-only">Toggle navigation</span>
					  <span class="icon-bar"></span>
					  <span class="icon-bar"></span>
					  <span class="icon-bar"></span>
					</button>					
				  </div>
				  <!-- Brand and toggle get grouped for better mobile display -->
				  <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
					<ul class="nav navbar-nav">
					  <li class="flat-box waves-effect waves-block"><a href="pos-site-index.html"><i class="fa fa-credit-card"></i> POS</a></li>
					  <li class="flat-box waves-effect waves-block"><a href="products-page.html"><i class="fa fa-archive"></i> Product</a></li>
					  <li class="dropdown">
						<a href="#" class="dropdown-toggle flat-box waves-effect waves-block" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-users"></i> People <span class="caret"></span></a>
						<ul class="dropdown-menu">
						  <li class="flat-box waves-effect waves-block"><a href="people-customers.html"><i class="fa fa-user"></i> Customers</a></li>
						  <!--<li class="flat-box waves-effect waves-block"><a href="people-suppliers.html"><i class="fa fa-truck"></i> Suppliers</a></li>-->
						</ul>
					  </li>
					  <!--<li class="flat-box waves-effect waves-block"><a href="sales.html"><i class="fa fa-ticket"></i> Sales</a></li>
					  <li class="flat-box waves-effect waves-block"><a href="expense.html"><i class="fa fa-inr"></i> Expense</a></li>-->
					  <li class="dropdown">
						<a href="#" class="dropdown-toggle flat-box waves-effect waves-block" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false"><i class="fa fa-bookmark"></i> Categories <span class="caret"></span></a>
						<ul class="dropdown-menu">
						  <li class="flat-box waves-effect waves-block"><a href="categories-orders.html"><i class="fa fa-archive"></i> Orders</a></li>
						  <!--<li class="flat-box waves-effect waves-block"><a href="categories-expense.html"><i class="fa fa-inr"></i> Expense</a></li>-->
						</ul>
					  </li>
					  <li class="flat-box waves-effect waves-block"><a href="pos-settings.html"><i class="fa fa-cogs"></i> Setting</a></li>
					  <li class="flat-box waves-effect waves-block"><a href="pos-reports.html"><i class="fa fa-line-chart"></i> Reports</a></li>
					</ul>
					<ul class="nav navbar-nav navbar-right">
					  <!--<li><button onclick="myFunction()">Try it</button></li>-->
					  <li class="flat-box waves-effect waves-block" style="padding-right:10px;" ng-hide ="show == true" id="myBtn" ><a href="#" title="Logout" ng-click="hideHeader()">Hide Header</a></li>
					   <li class="flat-box waves-effect waves-block" style="padding-right:10px;" ng-show ="show == true" id="myBtn" ><a href="#" title="Logout" ng-click="showHeader()">Show Header</a></li>
					  <li class="flat-box waves-effect waves-block" style="padding-right:20px;padding-top:5px"><a href="pos-index.html" title="Logout"><i class="fa fa-sign-out fa-lg"></i></a></li>
					</ul>
				  </div>
				  <!-- Brand and toggle get grouped for better mobile display end here-->
				  <div id="loadingimg" style="display: none;"></div>
			  </nav>
			</div>
			<!-- navigation end here -->
			
  <!-- Page Content start here -->
  <div class="container">
    <h3>Sales</h3>
    <br>
    <br>
    <div id="table_wrapper" class="dataTables_wrapper form-inline dt-bootstrap no-footer">


      <!--<div class="row">
        <div class="col-sm-6">
          <div class="dataTables_length" id="table_length">
            <label>Show
              <select name="table_length" aria-controls="table" class="form-control input-sm">
                <option value="10">10</option>
                <option value="25">25</option>
                <option value="50">50</option>
                <option value="100">100</option>
              </select> entries</label>
          </div>
        </div>
        <div class="col-sm-6">
          <div id="table_filter" class="dataTables_filter">
            <label>Search:
              <input type="search" class="form-control input-sm" placeholder="" aria-controls="table">
            </label>
          </div>
        </div>
      </div>-->


      <div class="row">
        <div class="col-sm-12">
          <table id="table" class="table table-striped table-bordered dataTable no-footer" cellspacing="0" width="100%" role="grid" style="width: 100%;">
            <thead class="thead-inverse">
              <tr role="row">
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Number: activate to sort column ascending" style="width: 77px;">Number</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Customer: activate to sort column ascending" style="width: 143px;">Customer</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="tax: activate to sort column ascending" style="width: 37px;">tax</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Discount: activate to sort column ascending" style="width: 84px;">Discount</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Total: activate to sort column ascending" style="width: 61px;">Total</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Ceated By: activate to sort column ascending" style="width: 95px;">Ceated By</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Total Items: activate to sort column ascending" style="width: 100px;">Total Items</th>
                <th class="sorting" tabindex="0" aria-controls="table" rowspan="1" colspan="1" aria-label="Status: activate to sort column ascending" style="width: 62px;">Status</th>
                <th class="sorting_disabled" rowspan="1" colspan="1" aria-label="Action" style="width: 131px;">Action</th>
              </tr>
            </thead>
            <tbody>
			
			
			
            <tr role="row" class="odd">
                <td>00024</td>
                <td>Walk in Customer</td>
                <td>12%</td>
                <td></td>
                <td>2689.120</td>
                <td>admin Doe</td>
                <td>14</td>
                <td><span class="paid">Paid<span></span></span></td>
                <td>
					<div class="btn-group">
					  <a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle=" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
					  <a class="btn btn-primary dropdown-toggle " data-toggle="dropdown" href="#"><span class="fa fa-caret-down " title="Toggle dropdown menu"></span></a>
						<ul class="dropdown-menu">
							<li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
							<li class="divider "></li>
							<li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tr role="row " class="even">
				<td>00023</td>
				<td>Walk in Customer</td>
				<td>12%</td>
				<td></td>
				<td>0.000</td>
				<td>admin Doe</td>
				<td>0</td>
				<td><span class="unpaid ">Unpaid<span></span></span></td>
				<td>
					<div class="btn-group">
							<a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle =" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
							<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-caret-down" title="Toggle dropdown menu"></span></a>
								<ul class="dropdown-menu">
								  <li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
								  <li class="divider"></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
								</ul>
					</div>
                </td>
            </tr>
			
			<tr role="row" class="odd">
                <td>00024</td>
                <td>Walk in Customer</td>
                <td>12%</td>
                <td></td>
                <td>2689.120</td>
                <td>admin Doe</td>
                <td>14</td>
                <td><span class="paid">Paid<span></span></span></td>
                <td>
					<div class="btn-group">
					  <a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle=" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
					  <a class="btn btn-primary dropdown-toggle " data-toggle="dropdown" href="#"><span class="fa fa-caret-down " title="Toggle dropdown menu"></span></a>
						<ul class="dropdown-menu">
							<li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
							<li class="divider "></li>
							<li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
						</ul>
					</div>
				</td>
			</tr>
			<tr role="row " class="even">
				<td>00023</td>
				<td>Walk in Customer</td>
				<td>12%</td>
				<td></td>
				<td>0.000</td>
				<td>admin Doe</td>
				<td>0</td>
				<td><span class="unpaid ">Unpaid<span></span></span></td>
				<td>
					<div class="btn-group">
							<a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle =" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
							<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-caret-down" title="Toggle dropdown menu"></span></a>
								<ul class="dropdown-menu">
								  <li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
								  <li class="divider"></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
								</ul>
					</div>
                </td>
            </tr>
			
			<tr role="row" class="odd">
                <td>00024</td>
                <td>Walk in Customer</td>
                <td>12%</td>
                <td></td>
                <td>2689.120</td>
                <td>admin Doe</td>
                <td>14</td>
                <td><span class="paid">Paid<span></span></span></td>
                <td>
					<div class="btn-group">
					  <a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle=" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
					  <a class="btn btn-primary dropdown-toggle " data-toggle="dropdown" href="#"><span class="fa fa-caret-down " title="Toggle dropdown menu"></span></a>
						<ul class="dropdown-menu">
							<li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
							<li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
							<li class="divider "></li>
							<li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
						</ul>
					</div>
				</td>
			</tr>
			
			<tr role="row " class="even">
				<td>00023</td>
				<td>Walk in Customer</td>
				<td>12%</td>
				<td></td>
				<td>0.000</td>
				<td>admin Doe</td>
				<td>0</td>
				<td><span class="unpaid ">Unpaid<span></span></span></td>
				<td>
					<div class="btn-group">
							<a class="btn btn-primary" href="javascript:void(0)" dropdown-toggle =" " data-toggle="dropdown"><i class="fa fa-cog fa-fw"></i> Action</a>
							<a class="btn btn-primary dropdown-toggle" data-toggle="dropdown" href="#"><span class="fa fa-caret-down" title="Toggle dropdown menu"></span></a>
								<ul class="dropdown-menu">
								  <li><a href="javascript:void(0)"><i class="fa fa-pencil fa-fw" aria-hidden="true"></i> Edit</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-credit-card-alt fa-fw" aria-hidden="true"></i> Payements</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-sticky-note" aria-hidden="true"></i> invoice</a></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-ticket fa-fw" aria-hidden="true"></i> Receipt</a></li>
								  <li class="divider"></li>
								  <li><a href="javascript:void(0)"><i class="fa fa-trash-o fa-fw" aria-hidden="true"></i> Delete</a></li>
								</ul>
					</div>
                </td>
            </tr>
			
              
            </tbody>
          </table>
          <div id="table_processing" class="dataTables_processing" style="display: none;">Processing...</div>
        </div>
      </div>
      <div class="row">
        <div class="col-sm-5"></div>
        <div class="col-sm-7">
          <div class="dataTables_paginate paging_simple_numbers" id="table_paginate">
            <ul class="pagination">
              <li class="paginate_button previous disabled" id="table_previous"><a href="#" aria-controls="table" data-dt-idx="0" tabindex="0">Previous</a></li>
              <li class="paginate_button active"><a href="#" aria-controls="table" data-dt-idx="1" tabindex="0">1</a></li>
              <li class="paginate_button "><a href="#" aria-controls="table" data-dt-idx="2" tabindex="0">2</a></li>
              <li class="paginate_button "><a href="#" aria-controls="table" data-dt-idx="3" tabindex="0">3</a></li>
              <li class="paginate_button next" id="table_next"><a href="#" aria-controls="table" data-dt-idx="4" tabindex="0">Next</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>
  </div>


  <script type="text/javascript">
    var save_method; //for save method string
    var table;
    $(document).ready(function() {
      table = $('#table').DataTable({

        "processing": true, //Feature control the processing indicator.
        "serverSide": true, //Feature control DataTables' server-side processing mode.
        "order": [], //Initial no order.
        // Load data for the table's content from an Ajax source
        "ajax": {
          "url": "http://www.dar-elweb.com/demos/zarpos/invoices/ajax_list",
          "type": "POST"
        },

        //Set column definition initialisation properties.
        "columnDefs": [{
          "targets": [-1], //last column
          "orderable": false, //set not orderable
        }, ],
        "bInfo": false,
        // "fnRowCallback": function(nRow, aData, iDisplayIndex) {
        //     nRow.setAttribute('data-order',aData[4]);
        // }
      });
    });


    function reload_table() {
      table.ajax.reload(null, false); //reload datatable ajax
    }

    function delete_invoice(id) {
      swal({
          title: 'Are you sure ?',
          text: 'You will not be able to recover this Data later!',
          type: "warning",
          showCancelButton: true,
          confirmButtonColor: "#DD6B55",
          confirmButtonText: 'Yes, delete it!',
          closeOnConfirm: false
        },
        function() {
          // ajax delete data to database
          $.ajax({
            url: "http://www.dar-elweb.com/demos/zarpos/invoices/ajax_delete/" + id,
            type: "POST",
            dataType: "JSON",
            success: function(data) {
              //if success reload ajax table
              $('#modal_form').modal('hide');
              reload_table();
            },
            error: function(jqXHR, textStatus, errorThrown) {
              alert('Error adding / update data');
            }
          });
          swal('Deleted!', 'the data has been deleted.', "success");
        });
    }

    function showTicket(id) {

      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/ShowTicket/" + id,
        type: "POST",
        success: function(data) {
          $('#printSection').html(data);
          $('#ticket').modal('show');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    };

    function showInvoice(id) {

      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/showInvoice/" + id,
        type: "POST",
        success: function(data) {
          $('#printSectionInvoice').html(data);
          $('#invoice').modal('show');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    };

    function Edit_Sale(id) {

      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/Edit_Ajax/" + id,
        type: "POST",
        success: function(data) {
          $('#editSection').html(data);
          $('#Edit').modal('show');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    };

    function update_Sale() {
      var id = $('#ClientId').val();
      var customerId = $('#customerSelect').val();
      var customer = $('#customerSelect option:selected').text();
      var Status = $('#changeStatus').val();

      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/Update_Sale/" + id,
        data: {
          customer: customer,
          customerId: customerId,
          Status: Status
        },
        type: "POST",
        success: function(data) {
          reload_table();
          $('#Edit').modal('hide');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    };

    function PrintTicket() {
      $('.modal-body').removeAttr('id');
      window.print();
      $('.modal-body').attr('id', 'modal-body');
    }

    function pdfreceipt() {


      var content = $('#printSection').html();
      $.redirect('http://www.dar-elweb.com/demos/zarpos/pos/pdfreceipt/', {
        content: content
      });

    }

    function pdfinvoice() {


      var content = $('#printSectionInvoice').html();
      $.redirect('http://www.dar-elweb.com/demos/zarpos/pos/pdfreceipt/', {
        content: content
      });

    }

    var saleID;

    function payaments(id) {
      saleID = id;
      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/payaments/" + id,
        type: "POST",
        success: function(data) {
          $('#payementsSection').html(data);
          $('#payements').modal('show');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    };

    function AddPayement(type) {
      var createdBy = 'admin Doe';
      var Paid = $('#Paid').val();
      var ccnum = $('#CreditCardNum').val();
      var ccmonth = $('#CreditCardMonth').val();
      var ccyear = $('#CreditCardYear').val();
      var ccv = $('#CreditCardCODECV').val();
      var paidMethod = $('#paymentMethod').find('option:selected').val();
      switch (paidMethod) {
        case '1':
          paidMethod += '~' + $('#CreditCardNum').val() + '~' + $('#CreditCardHold').val();
          break;
        case '2':
          paidMethod += '~' + $('#ChequeNum').val();
      }

      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/Addpayament/" + type,
        type: "POST",
        data: {
          created_by: createdBy,
          paid: Paid,
          paidmethod: paidMethod,
          ccnum: ccnum,
          ccmonth: ccmonth,
          ccyear: ccyear,
          ccv: ccv,
          sale_id: saleID
        },
        success: function(data) {
          $('#payementsSection').load("http://www.dar-elweb.com/demos/zarpos/invoices/payaments/" + saleID);
          $('#Addpayament').modal('hide');
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });

      $('#CreditCardNum').val('');
      $('#CreditCardHold').val('');
      $('#CreditCardYear').val('');
      $('#CreditCardMonth').val('');
      $('#CreditCardCODECV').val('');
    }

    $(document).ready(function() {
      $('.Paid').show();
      $('.ReturnChange').show();
      $('.CreditCardNum').hide();
      $('.CreditCardHold').hide();
      $('.ChequeNum').hide();
      $('.stripe-btn').hide();

      $("#paymentMethod").change(function() {
        var p_met = $(this).find('option:selected').val();
        if (p_met === '0') {
          $('.Paid').show();
          $('.ReturnChange').show();
          $('.CreditCardNum').hide();
          $('.CreditCardHold').hide();
          $('.CreditCardMonth').hide();
          $('.CreditCardYear').hide();
          $('.CreditCardCODECV').hide();
          $('#CreditCardNum').val('');
          $('#CreditCardHold').val('');
          $('#CreditCardYear').val('');
          $('#CreditCardMonth').val('');
          $('#CreditCardCODECV').val('');
          $('.stripe-btn').hide();
          $('.ChequeNum').hide();
        } else if (p_met === '1') {
          $('.Paid').show();
          $('.ReturnChange').hide();
          $('.CreditCardNum').show();
          $('.CreditCardHold').show();
          $('.CreditCardMonth').show();
          $('.CreditCardYear').show();
          $('.CreditCardCODECV').show();
          $('.stripe-btn').show();
          $('.ChequeNum').hide();
        } else if (p_met === '2') {
          $('.Paid').show();
          $('.ReturnChange').hide();
          $('.CreditCardNum').hide();
          $('.CreditCardHold').hide();
          $('.CreditCardMonth').hide();
          $('.CreditCardYear').hide();
          $('.CreditCardCODECV').hide();
          $('#CreditCardNum').val('');
          $('#CreditCardHold').val('');
          $('#CreditCardYear').val('');
          $('#CreditCardMonth').val('');
          $('#CreditCardCODECV').val('');
          $('.stripe-btn').hide();
          $('.ChequeNum').show();
        }
      });

      /********************************* Credit Card infos section ****************************************/
      $('#CreditCardNum').validateCreditCard(function(result) {
        var cardtype = result.card_type == null ? '-' : result.card_type.name;
        $('.CreditCardNum i').removeClass('dark-blue');
        $('#' + cardtype).addClass('dark-blue');
      });

      $('#CreditCardNum').keypress(function(e) {
        var data = $(this).val();
        if (data.length > 22) {

          if (e.keyCode == 13) {
            e.preventDefault();

            var c = new SwipeParserObj(data);

            $('#CreditCardNum').val(c.account);
            $('#CreditCardHold').val(c.account_name);
            $('#CreditCardYear').val(c.exp_year);
            $('#CreditCardMonth').val(c.exp_month);
            $('#CreditCardCODECV').val('');

          } else {
            $('#CreditCardNum').val('');
            $('#CreditCardHold').val('');
            $('#CreditCardYear').val('');
            $('#CreditCardMonth').val('');
            $('#CreditCardCODECV').val('');
          }

          $('#CreditCardCODECV').focus();
          $('#CreditCardNum').validateCreditCard(function(result) {
            var cardtype = result.card_type == null ? '-' : result.card_type.name;
            $('.CreditCardNum i').removeClass('dark-blue');
            $('#' + cardtype).addClass('dark-blue');
          });
        }

      });
    });

    function addpymntBtn() {
      if (true)
        $('#Addpayament').modal('show');
      else
        swal("requires an open register");
    }

    function deletepayement(id) {
      $.ajax({
        url: "http://www.dar-elweb.com/demos/zarpos/invoices/deletepayement/" + id + "/" + saleID,
        type: "POST",
        success: function(data) {
          $('#payementsSection').load("http://www.dar-elweb.com/demos/zarpos/invoices/payaments/" + saleID);
        },
        error: function(jqXHR, textStatus, errorThrown) {
          alert("error");
        }
      });
    }
  </script>


  <!-- Modal ticket -->
  <div class="modal fade" id="ticket" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" id="ticketModal">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title" id="ticket">Receipt</h4>
        </div>
        <div class="modal-body" id="modal-body">
          <div id="printSection">
            <!-- Ticket goes here -->
            <center>
              <h1 style="color:#34495E">Empty</h1></center>
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default hiddenpr" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-add hiddenpr" href="javascript:void(0)">PDF</button>
          <button type="button" class="btn btn-add hiddenpr">print</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /.Modal -->

  <!-- Modal invoice -->
  <div class="modal fade" id="invoice" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog modal-lg" role="document" id="invoiceModal">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title" id="invoice">INVOICE</h4>
        </div>
        <div class="modal-body" id="modal-body">
          <div id="printSectionInvoice">
            <!-- Invoice goes here -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default hiddenpr" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-add hiddenpr" href="javascript:void(0)">PDF</button>
          <button type="button" class="btn btn-add hiddenpr">print</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /.Modal -->

  <!-- Modal edit -->
  <div class="modal fade" id="Edit" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" id="editModal">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title" id="edit">Edit</h4>
        </div>
        <div class="modal-body" id="modal-body">
          <div id="editSection">
            <!-- edit goes here -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default hiddenpr" data-dismiss="modal">Close</button>
          <button type="button" class="btn btn-add hiddenpr">Submit</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /.Modal -->

  <!-- Modal payements -->
  <div class="modal fade" id="payements" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document" id="payementsModal">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title" id="edit">Payements</h4>
        </div>
        <div class="modal-body" id="modal-body">
          <div id="payementsSection">
            <!-- payements goes here -->
          </div>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-default hiddenpr" data-dismiss="modal">Close</button>
        </div>
      </div>
    </div>
  </div>
  <!-- /.Modal -->


  <!-- Modal -->
  <div class="modal fade" id="Addpayament" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">×</span></button>
          <h4 class="modal-title" id="Addpayament">Add Payements</h4>
        </div>
        <form>
          <div class="modal-body">
            <div class="form-group">
              <h2 id="TotalModal"></h2>
            </div>
            <div class="form-group">
              <label for="paymentMethod">Payment method:</label>
              <select class="js-select-options form-control select2-hidden-accessible" id="paymentMethod" tabindex="-1" aria-hidden="true">
                <option value="0">Cash</option>
                <option value="1">Credit Card</option>
                <option value="2">Cheque</option>
              </select><span class="select2 select2-container select2-container--default" dir="ltr" style="width: 100px;"><span class="selection"><span class="select2-selection select2-selection--single" role="combobox" aria-haspopup="true" aria-expanded="false" tabindex="0" aria-labelledby="select2-paymentMethod-container"><span class="select2-selection__rendered" id="select2-paymentMethod-container" title="Cash">Cash</span>
              <span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>
              </span>
              </span><span class="dropdown-wrapper" aria-hidden="true"></span></span>
            </div>
            <div class="form-group Paid">
              <label for="Paid">Paid</label>
              <input type="text" value="0" name="paid" class="form-control " id="Paid" placeholder="Paid">
            </div>
            <div class="form-group CreditCardNum" style="display: none;">
              <i class="fa fa-cc-visa fa-2x" id="visa" aria-hidden="true"></i>
              <i class="fa fa-cc-mastercard fa-2x" id="mastercard" aria-hidden="true"></i>
              <i class="fa fa-cc-amex fa-2x" id="amex" aria-hidden="true"></i>
              <i class="fa fa-cc-discover fa-2x" id="discover" aria-hidden="true"></i>
              <label for="CreditCardNum">Credit Card Number (swipe)</label>
              <input type="text" class="form-control cc-num" id="CreditCardNum" placeholder="Credit Card Number (swipe)">
            </div>
            <div class="clearfix"></div>
            <div class="form-group CreditCardHold col-md-4 padding-s" style="display: none;">
              <input type="text" class="form-control" id="CreditCardHold" placeholder="Credit Card Holder">
            </div>
            <div class="form-group CreditCardHold col-md-2 padding-s" style="display: none;">
              <input type="text" class="form-control" id="CreditCardMonth" placeholder="Month">
            </div>
            <div class="form-group CreditCardHold col-md-2 padding-s" style="display: none;">
              <input type="text" class="form-control" id="CreditCardYear" placeholder="Year">
            </div>
            <div class="form-group CreditCardHold col-md-4 padding-s" style="display: none;">
              <input type="text" class="form-control" id="CreditCardCODECV" placeholder="CODE CV">
            </div>
            <div class="form-group ChequeNum" style="display: none;">
              <label for="ChequeNum">Cheque Number</label>
              <input type="text" name="chequenum" class="form-control" id="ChequeNum" placeholder="Cheque Number">
            </div>
            <div class="clearfix"></div>
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
            <button type="button" class="btn btn-add stripe-btn" style="display: none;"><i class="fa fa-cc-stripe" aria-hidden="true"></i> StripePayment</button>
            <button type="button" class="btn btn-add">Submit</button>
          </div>
        </form>
      </div>
    </div>
  </div>
  <!-- /.Modal -->


<!-- slim scroll script -->
  <script type="text/javascript" src="./pos-js/jquery.slimscroll.min.js"></script>
  <!-- waves material design effect -->
  <script type="text/javascript" src="./pos-js/waves.min.js"></script>
  <!-- Bootstrap Core JavaScript -->
  <script type="text/javascript" src="./pos-js/bootstrap.min.js"></script>
  <!-- keyboard widget dependencies -->
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery.keyboard.js"></script>
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery.keyboard.extension-all.js"></script>
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery.keyboard.extension-extender.js"></script>
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery.keyboard.extension-typing.js"></script>
  <script type="text/javascript" src="http://www.dar-elweb.com/demos/zarpos/assets/js/jquery.mousewheel.js"></script>
  <!-- select2 plugin script -->
  <script type="text/javascript" src="./pos-js/select2.min.js"></script>
  <!-- dalatable scripts 
  <script src="../../pos-js/jquery.dataTables.min.js"></script>
  <script src="../../pos-js/dataTables.bootstrap.js"></script>-->
  <!-- summernote js -->
  <script src="./pos-js/summernote.js"></script>
  <!-- chart.js script -->
  <script src="./pos-js/Chart.js"></script>
  <!-- moment JS -->
  <script type="text/javascript" src="./pos-js/moment.min.js"></script>
  <!-- Include Date Range Picker -->
  <script type="text/javascript" src="./pos-js/daterangepicker.js"></script>
  <!-- Sweet Alert swal -->
  <script src="./pos-js/sweetalert.min.js"></script>
  <!-- datepicker script -->
  <script src="./pos-js/bootstrap-datepicker.min.js"></script>
  <!-- creditCardValidator script -->
  <script src="./pos-js/jquery.creditCardValidator.js"></script>
  <!-- creditCardValidator script -->
  <script src="./pos-js/credit-card-scanner.js"></script>
  <script src="./pos-js/jquery.redirect.js"></script>
  <!-- ajax form -->
  <script src="./pos-js/jquery.form.min.js"></script>
  <!-- custom script -->
  <script src="./pos-js/app.js"></script>


</body>

</html>